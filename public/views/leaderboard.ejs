<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/img/BigBrain_logo.png" rel="icon" type="image/x-icon" />
    <title>BigBrain | Leaderboard</title>

    <!-- For the header and footer (used bootstrap) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous">
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!------------------------------------------------->

    <!-- CSS -->
    <link rel="stylesheet" href="/css/leaderboard.css">
    <!--     -->


</head>

<body>

    <div class="bg">
        <nav id="navbar"></nav>

        <h1>Leaderboard</h1>

        <div class="content">
            <div class="leaderboard">
                <div class="userTable">
                    <h4>You</h4>
                    <table>
                        <tr>
                            <th>Placement</th>
                            <th>Username</th>
                            <th>Points</th>
                        </tr>
                        <tr>
                            <% var i = 1%>
                            <%for(const user of users) {%>
                            <%if(user.username == userLoggedIn) {%>
                            <% let userPoints = 0%>
                            <% userPoints = user.mathGameHighscore + user.memoryGameHighscore + user.geographyGameHighscore %>
                            <td><%=i%></td>
                            <td><%=userLoggedIn%></td>
                            <td><%=userPoints%></td>
                            <% } %>
                            <% i++ %>
                            <% } %>
                        </tr>
                    </table>
                </div>

                <div class="allTable">
                    <p>All</p>
                    <table>
                        <tr>
                            <th>Placement</th>
                            <th>Username</th>
                            <th>Points</th>
                        </tr>
                        <% var i = 1 %>
                        <%for(const user of users) {%>
                        <% let name = user.username %>
                        <% let userPoints = 0%>
                        <% userPoints = user.mathGameHighscore + user.memoryGameHighscore + user.geographyGameHighscore %>
                        <tr>
                            <td><%=i%></td>
                            <td><%=name%></td>
                            <td><%=userPoints%></td>
                        </tr>
                        <% i++ %>
                        <% } %>
                    </table>
                </div>
            </div>
            <div> Points = The total sum of all highscores from all games.</div>
        </div>
    </div>

    <script src="/scripts/skeleton.js"></script>

</body>

</html>